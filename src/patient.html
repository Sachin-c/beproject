<!DOCTYPE html>
<html>
    <head>
           
            <meta name="viewport" content="width=device-width, initial-scale=1">
            <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
            <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
            <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
            <script src="node_modules/web3/dist/web3.min.js" type="text/javascript"></script>
            <script src="node_modules/truffle-contract/dist/truffle-contract.js" type="text/javascript"></script>
        <title></title>
        <meta charset="utf-8" />
        
    </head>
    <body><h2 id="print"></h2>
            <p class="text-danger" id="error"></p>
            <!-- <form onSubmit="App.set(); return false;"></form> -->
                    <div class="form-group">
                      <label for="Name">Name</label>
                      <input type="text" class="form-control" id="name" placeholder="Enter Name">
                    </div>
                    <div class="form-group">
                      <label for="Age">Password</label>
                      <input type="number" class="form-control" id="age" placeholder="Age">
                    </div>
                    <div class="form-group">
                        <label for="Gender">Gender</label>
                        <input type="text" class="form-control" id="gender" placeholder="Gender">
                    </div>
                    <!-- <input type="submit" hidden=""> -->
                    <button id="button" class="btn btn-primary">Submit</button> 
                  <!-- </form> -->
                 
                  <script>
                      var web3;
                      if (typeof web3 !== undefined) 
                      {
                      web3 = new Web3(web3.currentProvider);
                      } 
                      else
                      {
                      web3 = new Web3(new Web3.providers.HttpProvider('http://localhost:7545'));
                      }
                     
                      // web3.eth.defaultAccount = web3.eth.accounts[0];
                      var CoursesContract = web3.eth.contract([
                        {
                          "constant": false,
                          "inputs": [
                            {
                              "internalType": "string",
                              "name": "_name",
                              "type": "string"
                            },
                            {
                              "internalType": "uint256",
                              "name": "_age",
                              "type": "uint256"
                            },
                            {
                              "internalType": "string",
                              "name": "_gender",
                              "type": "string"
                            },
                            {
                              "internalType": "string",
                              "name": "_bg",
                              "type": "string"
                            }
                          ],
                          "name": "set",
                          "outputs": [],
                          "payable": false,
                          "stateMutability": "nonpayable",
                          "type": "function"
                        },
                        {
                          "constant": true,
                          "inputs": [],
                          "name": "get",
                          "outputs": [
                            {
                              "internalType": "string",
                              "name": "",
                              "type": "string"
                            },
                            {
                              "internalType": "uint256",
                              "name": "",
                              "type": "uint256"
                            },
                            {
                              "internalType": "string",
                              "name": "",
                              "type": "string"
                            },
                            {
                              "internalType": "string",
                              "name": "",
                              "type": "string"
                            }
                          ],
                          "payable": false,
                          "stateMutability": "view",
                          "type": "function"
                        },
                        {
                          "constant": true,
                          "inputs": [],
                          "name": "patientCount",
                          "outputs": [
                            {
                              "internalType": "uint256",
                              "name": "",
                              "type": "uint256"
                            }
                          ],
                          "payable": false,
                          "stateMutability": "view",
                          "type": "function"
                        }
                      ]);
                      var Courses = CoursesContract.at('0x2823659f9FD99f95B44bc4C0A808eebcA069F690');
                      //web3.eth.defaultAccount=web3.eth.getAccounts().then( function (result) { return result[0] });
                      web3.eth.defaultAccount = web3.eth.accounts[0];
                      $('#button').click(function() {
                    Courses.set($('#name').val(), $('#age').val(),$('#gender').val());
                    });

                    Courses.get(function(error, result){
                        if(!error){
                          $('#print').html(result[1]+"("+result[2]+" years old) is "+result[3] );
                          console.log(result);
                          }
                      else
                        console.error(error);
                      });
                  
                    </script>
    </body>
</html>